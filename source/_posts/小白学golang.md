---
title: 小白学golang
tags:
  - go
categories: golang
index_img: https://gitee.com/happencc/pics/raw/master/images/gopher.png
abbrlink: d94122d2
date: 2017-03-18 21:09:49
---
>Go 是 Google 开发的一种编译型，可并行化，并具有垃圾回收功能的编程语言。它具有脚本化的语法，支持多种编程范式。Go 最给力的地方就是原生的并发编程支持。
> 当然，缺点也是有的，语法糖没有 Python 和 Ruby 多，目前运行速度不及 C，但这正在改善。

<!--more---->

Go 的安装包可以在[官方网站](https://golang.org/)上下载,不过需要梯子。所以，这里有一个 [golang 中国网站](http://www.golangtc.com/)提供了下载。

​
## 几个环境变量
`GOROOT` => Go 的当前安装目录，一般为 `/usr/local/go`
`GOPATH` => Go 的工作区的集合，以冒号做分割
`GOBIN` => 存放 Go 的可执行文件的目录
在修改 `PATH` 环境变量时，把 `$GOROOT/bin:$GOBIN` 最后加上。


## 工作区目录结构

项目工作区的文件目录树如下：

```go
├── bin 存放当前工作区中 go 程序的可执行文件
├── pkg/平台相关目录 存放归档文件（以.a为后缀）
└── src 放源码文件
```
**注意：**
当环境变量 GOBIN 已有效设置时，这个目录就没意义了；
当 GOPATH 中包含多个工作区路径时，必须设置 GOBIN，否则无法成功安装 go 程序的可执行文件。

## 源码文件分类

Go 源码文件以 `.go` 为后缀。
分为三类：命令源码文件、库源码文件和测试源码文件。

**命令源码文件**：声明自己属于 `main` 代码包，包含无参数声明和结果声明的 `main` 函数。被安装后，相应的可执行文件被存放到 GOBIN 指定的目录下，或者是当前工作区的 bin 目录下。
它其实是 Go 程序的入口。
**库源码文件**：不具备上面两条性质的源码文件。被安装后，相应的归档文件被存放到`当前工作区目录/pkg/平台相关目录/`下。
**测试源码文件**：不具备2个特征，但是以 `_test.go` 为后缀。

## 常用命令
```
go run 接收一个命令源码文件或者若干个库源码文件为参数

    -a 强制编译相关代码，无论是否最新
    -n 打印编译过程所需运行的命令，但不真正运行
    -x 打印编译过程所需运行的命令，运行
    -p n 并行编译
    -v 列出被编译的代码包名
    -work 显示编译时创建的临时目录名，不删除
```
```go
go build 编译
    -a
```
编译库源码文件，没有任何结果，编译命令源码文件，则会出现可执行文件

```go
go install 编译并安装
```
安装代码包会在`当前工作区/pkg/相关平台/`下生成归档文件。

```go
go get 从远程仓库下载并安装代码
   -d 只下载，不安装
   -fix 下载后先修正，再编译安装
   -u 更新已有的代码包及其依赖包
```
