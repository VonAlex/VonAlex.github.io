<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/images/dolphin.png"><link rel="icon" type="image/png" href="/images/dolphin.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="description" content=""><meta name="author" content="Happen"><meta name="keywords" content=""><title>Happen&#39;s Memo</title><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.12.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/mdbootstrap/4.13.0/css/mdb.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css"><link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"><link rel="stylesheet" href="/css/main.css"><link defer="defer" rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="/css/custom.css"></head><body><header style="height:100vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"> <a class="navbar-brand" href="/">&nbsp;<strong>Happen's Memo</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="fa fa-home" aria-hidden="true"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="fa fa-archive" aria-hidden="true"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="fa fa-map-signs" aria-hidden="true"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="fa fa-tags" aria-hidden="true"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="fa fa-child" aria-hidden="true"></i> 关于</a></li><li class="nav-item" id="search-btn"> <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i class="iconfont icon-search"></i>&nbsp;&nbsp;</a></li></ul></div></div></nav><div class="view intro-2" id="background" parallax="true" style="background:url(/images/index-banner.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask rgba-black-light flex-center"><div class="container text-center white-text fadeInUp"><span class="h2" id="subtitle"></span></div><div class="scroll-down-bar"><i class="fas fa-angle-down scroll-down-arrow"></i></div></div></div></div></header><main><div class="container nopadding-md"><div class="py-5 z-depth-3" id="board" style="margin-top:0"><div class="container"><div class="row"><div class="col-12 col-md-10 m-auto"><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/35a9decf.html" target="_self"><img src="/images/redis.png" srcset="/img/loading.gif" alt="Redis 源码之启动流程" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/35a9decf.html"><p class="h4 index-header">Redis 源码之启动流程</p></a><a href="/35a9decf.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">说说 redis 的启动流程。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-12-08&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">源码系列</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/redis/">redis</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/9ceee0f6.html" target="_self"><img src="/images/redis.png" srcset="/img/loading.gif" alt="Redis 源码之 Bio" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/9ceee0f6.html"><p class="h4 index-header">Redis 源码之 Bio</p></a><a href="/9ceee0f6.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">很多人提到 Redis 时都会讲这是一个单线程的内存数据库，其实不然。虽然 Redis 把处理网络收发和执行命令这些操作都放在了主工作线程，但是除此之外还有许多 bio 后台线程也在兢兢业业的工作着，比如用来处理关闭文件和刷盘这些比较重的IO操作。bio，即 Background I/O。 Redis 源码中关于 bio 的部分，主要在 bio.h 和 bio.c 这两个文件中。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-10-29&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">源码系列</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/redis/">redis</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/d68bbf73.html" target="_self"><img src="/images/redis.png" srcset="/img/loading.gif" alt="Redis 基本数据结构之 dict" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/d68bbf73.html"><p class="h4 index-header">Redis 基本数据结构之 dict</p></a><a href="/d68bbf73.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1"> 字典，又称为符号表(symbol table)、关联数组(associative array)或者映射(map)，是一种用于保存键值对(key-value pair) 的抽象数据结构。 dict 是一种非常常用的数据结构，因为 c 语言里没有内置这种数据结构，所以 redis 内部实现了自己的 dict 数据结构。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-09-08&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">源码系列</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/redis/">redis</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/85f7b0b4.html" target="_self"><img src="/images/redis.png" srcset="/img/loading.gif" alt="Redis 中的事件" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/85f7b0b4.html"><p class="h4 index-header">Redis 中的事件</p></a><a href="/85f7b0b4.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">每个 CS 模式程序，尤其是高并发的网络服务端程序都有自己的网络异步事件处理库，Redis不例外。Redis 基于 Reactor 模型 封装了自己的事件驱动模型库。你可能会跟我有一样的疑问，为什么作者不使用已有的成熟的相关库，比如 Libevent 或 Libev？作者是这样跟别人讨论的，感兴趣的可以了解下。 下面从源码入手介绍下 Redis 中封装的 ae 库。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-08-17&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">源码系列</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/redis/">redis</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/ba6bb8e7.html" target="_self"><img src="/images/redis.png" srcset="/img/loading.gif" alt="Redis 基本数据结构之双向链表" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/ba6bb8e7.html"><p class="h4 index-header">Redis 基本数据结构之双向链表</p></a><a href="/ba6bb8e7.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1"> 链表提供了高效的节点重排能力，以及顺序性的节点访问方式，并且可以通过增删节点来灵活地调整链表的长度。 链表是一种非常常见的数据结构。由于 redis 使用的 C 语言并没有这种数据结构，因此，作者在 redis 对这一数据结构进行了实现。redis 的链表实现为双向链表，主要用在实现列表键、发布订阅、保存多客户端状态、服务器模块，订阅模块和保存输入命令等方面，使用较广。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-08-13&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">源码系列</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/redis/">redis</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/fe52c850.html" target="_self"><img src="/images/linux.jpg" srcset="/img/loading.gif" alt="dstat 工具使用" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/fe52c850.html"><p class="h4 index-header">dstat 工具使用</p></a><a href="/fe52c850.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">Dstat 是一个多样化的资源统计工具。官网上是这么说的，感受一下： Dstat is a versatile replacement for vmstat, iostat, netstat and ifstat. Dstat overcomes some of their limitations and adds some extra features, more counters and flexibility. Dstat is handy for monitoring systems during performance tuning tests, benchmarks or troubleshooting. Dstat allows you to view all of your system resources in real-time, you can eg. compare disk utilization in combination with interrupts from your IDE controller, or compare the network bandwidth numbers directly with the disk throughput (in the same interval). ...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-07-04&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/linux/">linux</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/shell/">shell</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/211b84d9.html" target="_self"><img src="/images/linux.jpg" srcset="/img/loading.gif" alt="irqbalance 详解之一" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/211b84d9.html"><p class="h4 index-header">irqbalance 详解之一</p></a><a href="/211b84d9.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">irqbalance 是什么？项目主页上有以下描述： Irqbalance is a daemon to help balance the cpu load generated by interrupts across all of a systems cpus. ...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-06-29&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/linux/">linux</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/shell/">shell</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/1f742d6d.html" target="_self"><img src="/images/tcpip.jpg" srcset="/img/loading.gif" alt="从 tcpdump 抓包看 TCP/IP 协议" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/1f742d6d.html"><p class="h4 index-header">从 tcpdump 抓包看 TCP/IP 协议</p></a><a href="/1f742d6d.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">因为最近要解析 TCP 报文中 option 段的一块数据，所以不得不详细了解下 TCP/IP 报文。虽然之前看过，很长时间没这么细致地用过，导致了健忘，借着这个机会，通过 tcpdump 抓包分析，详细捋一遍 TCP/IP 报文。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-05-26&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/linux/">linux</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/tcp-ip/">tcp/ip</a>&nbsp; <a href="/tags/tupdump/">tupdump</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/ef96f204.html" target="_self"><img src="/images/vscode.jpg" srcset="/img/loading.gif" alt="vscode 体验记" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/ef96f204.html"><p class="h4 index-header">vscode 体验记</p></a><a href="/ef96f204.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">之前开发一直用 jetbrains 家的产品，产品是不错，也的确不错。可日复一日，那启动速度实在有点…那啥，不过这也可以理解，毕竟软件做的那么复杂那么强大嘛。于是就开始着手寻找替代品，之前也配置过 sublime，也写过文章，可不知道为啥总也喜欢不起来。 后来，毫不费力地找到了 vscode 这款神奇的软件，作为一个喜欢倒腾各种（手机/电脑）软件的人，好软件当然要搞一搞。 下面介绍下这款每天使用时间最长的软件 vscode。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2018-05-19&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/tools/">tools</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/vscode/">vscode</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/3dbe6014.html" target="_self"><img src="/images/gopher.png" srcset="/img/loading.gif" alt="golang 包导入的一些问题" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/3dbe6014.html"><p class="h4 index-header">golang 包导入的一些问题</p></a><a href="/3dbe6014.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">对 golang 包导入以及包管理方面的学习中遇到的问题做记录。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2017-12-19&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/quick-start/">quick-start</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/go/">go</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/75a172a4.html" target="_self"><img src="/images/redis.png" srcset="/img/loading.gif" alt="Redis 基本数据结构之 SDS" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/75a172a4.html"><p class="h4 index-header">Redis 基本数据结构之 SDS</p></a><a href="/75a172a4.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">本文以 redis 3.2.8 版本来介绍 redis 源码。 字符串是 Redis 最基本的数据结构，首先键都是字符串类型的，而且其他几种数据结构也都是在字符串类型的基础之上构建的，因此，我认为从字符串入手来探究 Redis 的数据结构是相对合理的。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2017-10-15&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">源码系列</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/redis/">redis</a>&nbsp;</div></div></div><div class="row mx-auto index-card"><div class="col-12 col-md-4 m-auto"> <a href="/e8a575f7.html" target="_self"><img src="/images/linux.jpg" srcset="/img/loading.gif" alt="linux 常用到的文件同步方法" class="index-img img-fluid rounded index-thumbnails"></a></div><div class="col-12 col-md-8 mx-auto index-info"><a href="/e8a575f7.html"><p class="h4 index-header">linux 常用到的文件同步方法</p></a><a href="/e8a575f7.html"><div class="index-excerpt" style="max-height:none"><div class="index-text mb-1">下面总结了一些日常可以用到的文件同步的方法，以方便参考使用。...</div></div></a><div class="index-btm"><i class="iconfont icon-riqi2"></i> &nbsp;2017-10-05&nbsp;&nbsp;<i class="iconfont icon-inbox"></i> <a href="/categories/linux/">linux</a>&nbsp; &nbsp;<i class="iconfont icon-tag"></i> <a href="/tags/tools/">tools</a>&nbsp;</div></div></div><nav aria-label="index posts navigation"><span class="pagination pg-blue justify-content-center mt-5" id="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-angle-double-left"></i></a> <a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fas fa-angle-double-right"></i></a></span></nav><script>
    for (ele of document.getElementById("pagination").getElementsByTagName("a")) {
      ele.href += '#board';
    }
  </script></div></div></div></div></div></main><a class="z-depth-1" id="scroll-top-button" href="#" role="button"><i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4> <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"> <input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><footer class="mt-5"><div class="text-center py-3"><div> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a><i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><b>Fluid</b></a></div></div></footer><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script><script src="https://cdn.staticfile.org/mdbootstrap/4.13.0/js/mdb.min.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script defer="defer" src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="/js/clipboard-use.js"></script><script defer="defer" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script defer="defer">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?882b48640075e00a238ae94a7eec0d40";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script defer="defer">var _mtac={};!function(){var t=document.createElement("script");t.src="//pingjs.qq.com/h5/stats.js?v2.0.4",t.setAttribute("name","MTAH5"),t.setAttribute("sid","");var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script src="https://cdn.staticfile.org/prettify/188.0.0/prettify.min.js"></script><script>$(document).ready(function(){$("pre").addClass("prettyprint  "),prettyPrint()})</script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","Stay foolish, Stay hungry&nbsp;"],cursorChar:"_",typeSpeed:80,loop:!1});typed.stop(),$(document).ready(function(){$(".typed-cursor").addClass("h2"),typed.start()})</script><script src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js"></script><script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){getSearchFile(path),this.onclick=null}</script><script defer="defer" src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><script>$("#post img:not(.no-zoom img, img[no-zoom])").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)})</script></body></html>