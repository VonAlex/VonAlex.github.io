<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><link rel="preconnect" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital@1&family=Noto+Sans+TC&family=Noto+Serif+SC:wght@200;300&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital@1&family=Noto+Sans+TC&family=Noto+Serif+SC:wght@200;300&display=swap" rel="stylesheet"><link rel="preconnect" href="https://fonts.gstatic.com"><link rel="apple-touch-icon" sizes="76x76" href="/images/dolphin.png"><link rel="icon" type="image/png" href="/images/dolphin.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#433d3c"><meta name="description" content=""><meta name="author" content="Happen"><meta name="keywords" content=""><title>java ç¬¬ä¸‰æ–¹åŒ…å­¦ä¹ ä¹‹ jsoup - Happenã®Memo</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/rainbow.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css"><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.1.1"></head><body><header style="height:60vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/">&nbsp;<strong>Happenã®Memo</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> é¦–é¡µ</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> å½’æ¡£</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> åˆ†ç±»</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> æ ‡ç­¾</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> å…³äº</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> å‹é“¾</a></li><li class="nav-item" id="search-btn"><a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" href="javascript:">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner intro-2" id="background" parallax="true" style="background:url(https://gitee.com/happencc/pics/raw/master/images/about-banner.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="container page-header text-center fade-in-up"><span class="h2" id="subtitle"></span><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Happen </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2016-08-12 23:44" pubdate>2016-08-12 23:44</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 2.1k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 27 åˆ†é’Ÿ </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> æ¬¡</span></div></div></div></div></div></header><main><div class="container-fluid"><div class="row"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-md"><div class="container nopadding-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto" id="post"><h1 style="display:none">java ç¬¬ä¸‰æ–¹åŒ…å­¦ä¹ ä¹‹ jsoup</h1><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2016-08-12 23:44</p><div class="markdown-body" id="post-body"><p>ä½¿ç”¨ python å†™çˆ¬è™«çš„äººï¼Œåº”è¯¥éƒ½å¬è¿‡ beautifulsoup4 è¿™ä¸ªåŒ…ï¼Œç”¨æ¥è§£æ HTML å¾ˆæ–¹ä¾¿ã€‚ç°åœ¨ä»‹ç»ä¸€ä¸ªç±»ä¼¼äº beautifulsoup4 çš„ java ç¬¬ä¸‰æ–¹åº“ï¼ŒåŠŸèƒ½ç±»ä¼¼ã€‚jsoup æ˜¯ä¸€ä¸ªè§£æ HTML çš„ç¬¬ä¸‰æ–¹ java åº“ï¼Œå®ƒæä¾›äº†ä¸€å¥—éå¸¸æ–¹ä¾¿çš„ APIï¼Œå¯ä½¿ç”¨ DOMï¼ŒCSS ä»¥åŠç±» jQuery çš„æ“ä½œæ–¹æ³•æ¥å–å‡ºå’Œæ“ä½œæ•°æ®ã€‚<br><a id="more"></a></p><h2 id="ç®€ä»‹"><a href="# ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>jsoup æ˜¯ä¸€ä¸ªè§£æ HTML çš„ç¬¬ä¸‰æ–¹ java åº“ï¼Œå®ƒæä¾›äº†ä¸€å¥—éå¸¸æ–¹ä¾¿çš„ APIï¼Œå¯ä½¿ç”¨ DOMï¼ŒCSS ä»¥åŠç±» jQuery çš„æ“ä½œæ–¹æ³•æ¥å–å‡ºå’Œæ“ä½œæ•°æ®ã€‚<br><strong>jsoup è¿™ä¸ªåŒ…ç±»ä¼¼ä¸ python ä¸­æµè¡Œçš„ HTML è§£æåŒ… Beautifulsoup4ã€‚</strong><br>jsoup å®ç°äº† WHATWG HTML5 è§„èŒƒï¼Œèƒ½å¤Ÿä¸ç°ä»£æµè§ˆå™¨è§£ææˆç›¸åŒçš„ DOMã€‚å…¶è§£æå™¨èƒ½å¤Ÿå°½æœ€å¤§å¯èƒ½ä»ä½ æä¾›çš„ HTML æ–‡æ¡£æ¥åˆ›å»ºä¸€ä¸ªå¹²å‡€çš„è§£æç»“æœï¼Œæ— è®º HTML çš„æ ¼å¼æ˜¯å¦å®Œæ•´ã€‚æ¯”å¦‚å®ƒå¯ä»¥å¤„ç†ï¼šæ²¡æœ‰å…³é—­çš„æ ‡ç­¾ï¼Œæ¯”å¦‚ï¼š</p><div class="hljs"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ipsum parses to <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ipsum<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></code></pre></div><p>éšå¼æ ‡ç­¾ï¼Œåˆ›å»ºå¯é çš„æ–‡æ¡£ç»“æ„ï¼ˆhtml æ ‡ç­¾åŒ…å« head å’Œ bodyï¼Œåœ¨ head åªå‡ºç°æ°å½“çš„å…ƒç´ ï¼‰ã€‚<br><strong>å®˜ç½‘åœ°å€ </strong><a target="_blank" rel="noopener" href="https://jsoup.org/">åœ¨è¿™é‡Œ </a>ï¼Œ å¯¹åº”çš„ä¸­æ–‡æ–‡æ¡£<a target="_blank" rel="noopener" href="http://www.open-open.com/jsoup/parsing-a-document.htm"> åœ¨è¿™é‡Œ </a>ï¼Œä»¥åŠ jar åŒ…çš„<a target="_blank" rel="noopener" href="https://jsoup.org/download"> ä¸‹è½½åœ°å€</a>ã€‚</p><h2 id="ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡æ¨¡å‹"><a href="# ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡æ¨¡å‹" class="headerlink" title="ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡æ¨¡å‹"></a>ä¸€ä¸ªæ–‡æ¡£çš„å¯¹è±¡æ¨¡å‹</h2><ul><li>æ–‡æ¡£ç”±å¤šä¸ª <strong>Elements</strong> å’Œ<strong>TextNodes</strong>ç»„æˆ ;</li><li>å…¶ç»§æ‰¿ç»“æ„å¦‚ä¸‹ï¼š<strong>Document</strong>ç»§æ‰¿ <strong>Element</strong> ç»§æ‰¿ <strong>Node</strong>, <strong>TextNode</strong> ç»§æ‰¿ <strong>Node</strong>.</li><li>ä¸€ä¸ª Element åŒ…å«ä¸€ä¸ªå­èŠ‚ç‚¹é›†åˆï¼Œå¹¶æ‹¥æœ‰ä¸€ä¸ªçˆ¶ Elementã€‚ä»–ä»¬è¿˜æä¾›äº†ä¸€ä¸ªå”¯ä¸€çš„å­å…ƒç´ è¿‡æ»¤åˆ—è¡¨ã€‚</li></ul><h2 id="è·å– -Document- å¯¹è±¡"><a href="# è·å– -Document- å¯¹è±¡" class="headerlink" title="è·å– Document å¯¹è±¡"></a>è·å– Document å¯¹è±¡</h2><p>jsoup å¯ä»¥ä»åŒ…æ‹¬å­—ç¬¦ä¸²ã€URL åœ°å€ä»¥åŠæœ¬åœ°æ–‡ä»¶æ¥åŠ è½½ HTML æ–‡æ¡£ï¼Œå¹¶ç”Ÿæˆ Document å¯¹è±¡å®ä¾‹ã€‚</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">// (1)ä»å­—ç¬¦ä¸²ä¸­è·å–</span>
String html = <span class="hljs-string">&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;First parse&lt;/title&gt;&lt;/head&gt;&quot;</span>
  + <span class="hljs-string">&quot;&lt;body&gt;&lt;p&gt;Parsed HTML into a doc.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>;
Document doc1 = Jsoup.parse(html);

<span class="hljs-comment">// (2)ä» URL ç›´æ¥åŠ è½½ HTML æ–‡æ¡£</span>
<span class="hljs-comment">// get æ–¹æ³•</span>
Document doc2 = Jsoup.connect(<span class="hljs-string">&quot;http://www.163.com&quot;</span>).get();
<span class="hljs-comment">// post æ–¹æ³•</span>
Document doc = Jsoup.connect(<span class="hljs-string">&quot;http://example.com&quot;</span>)
  .data(<span class="hljs-string">&quot;query&quot;</span>, <span class="hljs-string">&quot;Java&quot;</span>)
  .userAgent(<span class="hljs-string">&quot;Mozilla&quot;</span>)
  .cookie(<span class="hljs-string">&quot;auth&quot;</span>, <span class="hljs-string">&quot;token&quot;</span>)
  .timeout(<span class="hljs-number">3000</span>)
  .post();

  <span class="hljs-comment">// (3)ä»æ–‡ä»¶ä¸­åŠ è½½ HTML æ–‡æ¡£</span>
File input = <span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;D:/test.html&quot;</span>);
Document doc = Jsoup.parse(input,<span class="hljs-string">&quot;UTF-8&quot;</span>,<span class="hljs-string">&quot;http://www.163.com/&quot;</span>);</code></pre></div><p>å¸¸ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title">connect</span><span class="hljs-params">(String url)</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Document <span class="hljs-title">parse</span><span class="hljs-params">(String html, String baseUri)</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Document <span class="hljs-title">parse</span><span class="hljs-params">(URL url,  <span class="hljs-keyword">int</span> timeoutMillis)</span> <span class="hljs-keyword">throws</span> IOException</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Document <span class="hljs-title">parse</span><span class="hljs-params">(File in,  String charsetName)</span> <span class="hljs-keyword">throws</span> IOException</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Document <span class="hljs-title">parse</span><span class="hljs-params">(InputStream in, String charsetName,  String baseUrl)</span>  <span class="hljs-keyword">throws</span> IOException</span></code></pre></div><p><strong>parse</strong> æ–¹æ³•èƒ½å¤Ÿå°†è¾“å…¥çš„ HTML è§£æä¸ºä¸€ä¸ªæ–°çš„æ–‡æ¡£ (Documentï¼‰ï¼Œåªè¦è§£æçš„ä¸æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œå°±èƒ½è¿”å›ä¸€ä¸ªç»“æ„åˆç†çš„æ–‡æ¡£ï¼Œå…¶ä¸­åŒ…å« (è‡³å°‘) ä¸€ä¸ª head å’Œä¸€ä¸ª body å…ƒç´ ã€‚<br>ä¸Šé¢çš„å‚æ•° <strong>baseUri</strong>çš„ä½œç”¨æ˜¯ï¼Œå¦‚æœè¦è§£æçš„ html ä¸­å­˜åœ¨ <strong>ç›¸å¯¹è·¯å¾„ </strong>ï¼Œé‚£ä¹ˆå°±æ ¹æ®è¿™ä¸ªå‚æ•°å˜æˆ<strong> ç»å¯¹è·¯å¾„</strong>, å¦‚æœä¸éœ€è¦å¯ä»¥ä¼ å…¥ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</p><p><strong>æ³¨ï¼š</strong>é€šè¿‡ connect æ–¹æ³•æ¥è·å¾— html æºç ï¼Œæœ‰çš„æ—¶å€™ä¼šé‡åˆ°ä¹±ç çš„é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™è¯¥æ€ä¹ˆåŠä¹ˆï¼Ÿæ–¹æ³•é‡Œæœ‰ä¸€ä¸ª parse æ–¹æ³•ï¼Œä¼ å…¥å‚æ•° InputStreamã€charsetName ä»¥åŠ baseUrlï¼Œæ‰€æœ‰å¯ä»¥è¿™æ ·è§£å†³ï¼š</p><div class="hljs"><pre><code class="hljs java">String url = <span class="hljs-string">&quot;http://xxxxxxx&quot;</span>;
Document document = Jsoup.parse(<span class="hljs-keyword">new</span> URL(url).openStream(), <span class="hljs-string">&quot;GBK&quot;</span>, url);<span class="hljs-comment">// ä»¥ gbk ç¼–ç ä¸ºæ —ã€‚</span></code></pre></div><p><strong>Jsoup çš„å¼ºé¡¹æ˜¯è§£æ htmlï¼Œå½“ç„¶äº†ï¼Œå®ƒèƒ½å¤„ç†ä¸€äº›ç®€å•æƒ…å†µï¼Œé‡åˆ°å¤æ‚çš„æƒ…å½¢è¿˜æ˜¯ä½¿ç”¨ httpClient è¿™ä¸ªåŒ…å§ï¼Œä½ å€¼å¾—æ‹¥æœ‰ï¼</strong></p><h2 id="è§£æå¹¶æå– -HTML- å…ƒç´ "><a href="# è§£æå¹¶æå– -HTML- å…ƒç´ " class="headerlink" title="è§£æå¹¶æå– HTML å…ƒç´ "></a>è§£æå¹¶æå– HTML å…ƒç´ </h2><h3 id="ä½¿ç”¨ä¼ ç»Ÿçš„æ“ä½œ DOM çš„æ–¹å¼"><a href="# ä½¿ç”¨ä¼ ç»Ÿçš„æ“ä½œ DOM çš„æ–¹å¼" class="headerlink" title="ä½¿ç”¨ä¼ ç»Ÿçš„æ“ä½œ DOM çš„æ–¹å¼"></a> ä½¿ç”¨ä¼ ç»Ÿçš„æ“ä½œ DOM çš„æ–¹å¼</h3><p>ä¸¾ä¸ªæ —å­</p><div class="hljs"><pre><code class="hljs java">Element content = doc.getElementById(<span class="hljs-string">&quot;content&quot;</span>);
Elements links = content.getElementsByTag(<span class="hljs-string">&quot;a&quot;</span>);
Elements mx = content.getElementsByClass(<span class="hljs-string">&quot;help&quot;</span>);</code></pre></div><p><strong>æ³¨ </strong>ï¼šdoc ä¸º Document å¯¹è±¡ã€‚<br>è¿˜æœ‰å†™å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> Elements <span class="hljs-title">getElementsByAttributeValue</span><span class="hljs-params">(String key,  String value)</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Element <span class="hljs-title">attr</span><span class="hljs-params">(String attributeKey,  String attributeValue)</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Elements <span class="hljs-title">getAllElements</span><span class="hljs-params">()</span></span>
<span class="hljs-function"><span class="hljs-comment">// è·å¾—å­©å­èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„æ–‡æœ¬æ‹¼æ¥</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">text</span><span class="hljs-params">()</span></span>
<span class="hljs-function"><span class="hljs-comment">// è·å¾—èŠ‚ç‚¹çš„å†…éƒ¨ html</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">html</span><span class="hljs-params">()</span></span></code></pre></div><p>Document å¯¹è±¡è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-comment">// è·å–æ ‡é¢˜</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">title</span><span class="hljs-params">()</span></span>
<span class="hljs-function"><span class="hljs-comment">// è·å¾—æŸèŠ‚ç‚¹çš„ htmlï¼Œè¿™ä¸ªæ–¹æ³•ç»§æ‰¿è‡ª Node ç±»ï¼Œæ‰€ä»¥ Element ç±»ä¹Ÿæœ‰è¯¥æ–¹æ³•</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">outerHtml</span><span class="hljs-params">()</span></span></code></pre></div><h3 id="é€‰æ‹©å™¨"><a href="# é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h3><p>åœ¨å…ƒç´ æ£€ç´¢æ–¹é¢ï¼Œjsoup çš„é€‰æ‹©å™¨ç®€ç›´æ— æ‰€ä¸èƒ½ã€‚<br>jsoup é€‰æ‹©å™¨å¾ˆå¤šï¼Œè¿™é‡Œä»…ä»…ä¸¾å‡ºå‡ ä¸ªæ —å­ï¼Œ</p><div class="hljs"><pre><code class="hljs java">Elements links = doc.select(<span class="hljs-string">&quot;a[href]&quot;</span>); <span class="hljs-comment">// å…·æœ‰ href å±æ€§çš„ a æ ‡ç­¾</span>
Elements pngs = doc.select(<span class="hljs-string">&quot;img[src$=.png]&quot;</span>);<span class="hljs-comment">// src å±æ€§ä»¥.png ç»“å°¾çš„ img æ ‡ç­¾</span>
Element masthead = doc.select(<span class="hljs-string">&quot;div.masthead&quot;</span>).first();<span class="hljs-comment">// class å±æ€§ä¸º masthead çš„ div æ ‡ç­¾ä¸­çš„ç¬¬ä¸€ä¸ª</span>
Elements resultLinks = doc.select(<span class="hljs-string">&quot;h3.r &gt; a&quot;</span>); <span class="hljs-comment">// class å±æ€§ä¸º r çš„ h3 æ ‡ç­¾çš„ç›´æ¥å­ a æ ‡ç­¾</span>
Elements resultLinks = doc.select(img[src~=(?i)\.(png|jpe?g)])</code></pre></div><p>Selector é€‰æ‹©å™¨æ¦‚è¿°</p><div class="hljs"><pre><code class="hljs oth">tagname: é€šè¿‡æ ‡ç­¾æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼ša
ns|tag: é€šè¿‡æ ‡ç­¾åœ¨å‘½åç©ºé—´æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼šå¯ä»¥ç”¨ fb|name è¯­æ³•æ¥æŸ¥æ‰¾ &lt;fb:name&gt; å…ƒç´ 
#id: é€šè¿‡ ID æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼š#logo
.class: é€šè¿‡ class åç§°æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼š.masthead
[attribute]: åˆ©ç”¨å±æ€§æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼š[href]
[^attr]: åˆ©ç”¨å±æ€§åå‰ç¼€æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼šå¯ä»¥ç”¨[^data-] æ¥æŸ¥æ‰¾å¸¦æœ‰ HTML5 Dataset å±æ€§çš„å…ƒç´ 
[attr&#x3D;value]: åˆ©ç”¨å±æ€§å€¼æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼š[width&#x3D;500]
[attr^&#x3D;value], [attr$&#x3D;value], [attr*&#x3D;value]: åˆ©ç”¨åŒ¹é…å±æ€§å€¼å¼€å¤´ã€ç»“å°¾æˆ–åŒ…å«å±æ€§å€¼æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼š[href*&#x3D;&#x2F;path&#x2F;]
[attr~&#x3D;regex]: åˆ©ç”¨å±æ€§å€¼åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œæ¯”å¦‚ï¼š img[src~&#x3D;(?i)\.(png|jpe?g)]
*: è¿™ä¸ªç¬¦å·å°†åŒ¹é…æ‰€æœ‰å…ƒç´ </code></pre></div><p>Selector é€‰æ‹©å™¨ç»„åˆä½¿ç”¨</p><p><code>el#id</code> å…ƒç´  +IDï¼Œæ¯”å¦‚ï¼š div#logo<br><code>el.class</code> å…ƒç´  +classï¼Œæ¯”å¦‚ï¼š div.masthead<br><code>el[attr]</code> å…ƒç´  +classï¼Œæ¯”å¦‚ï¼š a[href]<br><code>ä»»æ„ç»„åˆ</code> æ¯”å¦‚ï¼ša[href].highlight<br><code>ancestor child</code> æŸ¥æ‰¾æŸä¸ªå…ƒç´ ä¸‹å­å…ƒç´ ï¼Œæ¯”å¦‚ï¼šå¯ä»¥ç”¨.body p æŸ¥æ‰¾åœ¨â€bodyâ€å…ƒç´ ä¸‹çš„æ‰€æœ‰ p å…ƒç´ <br><code>parent &gt; child</code> æŸ¥æ‰¾æŸä¸ªçˆ¶å…ƒç´ ä¸‹çš„ç›´æ¥å­å…ƒç´ ï¼Œæ¯”å¦‚ï¼šå¯ä»¥ç”¨ div.content &gt; p æŸ¥æ‰¾ p å…ƒç´ ï¼Œä¹Ÿå¯ä»¥ç”¨ body &gt; * æŸ¥æ‰¾ body æ ‡ç­¾ä¸‹æ‰€æœ‰ç›´æ¥å­å…ƒç´ <br><code>siblingA + siblingB</code> æŸ¥æ‰¾åœ¨ A å…ƒç´ ä¹‹å‰ç¬¬ä¸€ä¸ªåŒçº§å…ƒç´  Bï¼Œæ¯”å¦‚ï¼šdiv.head + div<br><code>siblingA ~ siblingX</code> æŸ¥æ‰¾ A å…ƒç´ ä¹‹å‰çš„åŒçº§ X å…ƒç´ ï¼Œæ¯”å¦‚ï¼šh1 ~ p<br><code>el, el, el</code> å¤šä¸ªé€‰æ‹©å™¨ç»„åˆï¼ŒæŸ¥æ‰¾åŒ¹é…ä»»ä¸€é€‰æ‹©å™¨çš„å”¯ä¸€å…ƒç´ ï¼Œä¾‹å¦‚ï¼šdiv.masthead, div.logo</p><p>ä¼ªé€‰æ‹©å™¨ selectors</p><p><code>:lt(n)</code> æŸ¥æ‰¾å“ªäº›å…ƒç´ çš„åŒçº§ç´¢å¼•å€¼ï¼ˆå®ƒçš„ä½ç½®åœ¨ DOM æ ‘ä¸­æ˜¯ç›¸å¯¹äºå®ƒçš„çˆ¶èŠ‚ç‚¹ï¼‰å°äº nï¼Œæ¯”å¦‚ï¼štd:lt(3) è¡¨ç¤ºå°äºä¸‰åˆ—çš„å…ƒç´ <br><code>:gt(n)</code> æŸ¥æ‰¾å“ªäº›å…ƒç´ çš„åŒçº§ç´¢å¼•å€¼å¤§äº nï¼Œæ¯”å¦‚ï¼š div p:gt(2)è¡¨ç¤ºå“ªäº› div ä¸­æœ‰åŒ…å« 2 ä¸ªä»¥ä¸Šçš„ p å…ƒç´ <br><code>:eq(n)</code> æŸ¥æ‰¾å“ªäº›å…ƒç´ çš„åŒçº§ç´¢å¼•å€¼ä¸ n ç›¸ç­‰ï¼Œæ¯”å¦‚ï¼šform input:eq(1) è¡¨ç¤ºåŒ…å«ä¸€ä¸ª input æ ‡ç­¾çš„ Form å…ƒç´ <br><code>:has(seletor)</code> æŸ¥æ‰¾åŒ¹é…é€‰æ‹©å™¨åŒ…å«å…ƒç´ çš„å…ƒç´ ï¼Œæ¯”å¦‚ï¼šdiv:has(p) è¡¨ç¤ºå“ªäº› div åŒ…å«äº† p å…ƒç´ <br><code>:not(selector)</code> æŸ¥æ‰¾ä¸é€‰æ‹©å™¨ä¸åŒ¹é…çš„å…ƒç´ ï¼Œæ¯”å¦‚ï¼š div:not(.logo) è¡¨ç¤ºä¸åŒ…å« class=logo å…ƒç´ çš„æ‰€æœ‰ div åˆ—è¡¨<br><code>:contains(text)</code> æŸ¥æ‰¾åŒ…å«ç»™å®šæ–‡æœ¬çš„å…ƒç´ ï¼Œæœç´¢ä¸åŒºåˆ†å¤§ä¸å†™ï¼Œæ¯”å¦‚ï¼š p:contains(jsoup)<br><code>:containsOwn(text)</code> æŸ¥æ‰¾ç›´æ¥åŒ…å«ç»™å®šæ–‡æœ¬çš„å…ƒç´ <br><code>:matches(regex)</code> æŸ¥æ‰¾å“ªäº›å…ƒç´ çš„æ–‡æœ¬åŒ¹é…æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¯”å¦‚ï¼šdiv:matches((?i)login)<br><code>:matchesOwn(regex)</code> æŸ¥æ‰¾è‡ªèº«åŒ…å«æ–‡æœ¬åŒ¹é…æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„å…ƒç´ </p><p><strong>æ³¨ï¼š</strong> ä¸Šè¿°ä¼ªé€‰æ‹©å™¨ç´¢å¼•æ˜¯ä» 0 å¼€å§‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ä¸ªå…ƒç´ ç´¢å¼•å€¼ä¸º 0ï¼Œç¬¬äºŒä¸ªå…ƒç´  index ä¸º 1 ç­‰ã€‚<br>å¯¹äº Elements çš„æ¥å†ï¼Œçœ‹è¿™é‡Œ</p><div class="hljs"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Elements</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ArrayList</span>&lt;<span class="hljs-title">Element</span>&gt;</span></code></pre></div><p>å¦å¤–ï¼Œå¯ä»¥æŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://jsoup.org/apidocs/org/jsoup/select/Selector.html">Selector API</a> å‚è€ƒæ¥äº†è§£æ›´è¯¦ç»†çš„å†…å®¹<br>å¯ä»¥çœ‹å‡ºï¼Œjsoup ä½¿ç”¨è·Ÿ jQuery ä¸€æ¨¡ä¸€æ ·çš„é€‰æ‹©å™¨å¯¹å…ƒç´ è¿›è¡Œæ£€ç´¢ï¼Œä»¥ä¸Šçš„æ£€ç´¢æ–¹æ³•å¦‚æœæ¢æˆæ˜¯å…¶ä»–çš„ HTML è§£é‡Šå™¨ï¼Œè‡³å°‘éƒ½éœ€è¦å¾ˆå¤šè¡Œä»£ç ï¼Œè€Œ jsoup åªéœ€è¦ä¸€è¡Œä»£ç å³å¯å®Œæˆã€‚</p><h2 id="ä¿®æ”¹è·å–æ•°æ®"><a href="# ä¿®æ”¹è·å–æ•°æ®" class="headerlink" title="ä¿®æ”¹è·å–æ•°æ®"></a>ä¿®æ”¹è·å–æ•°æ®</h2><div class="hljs"><pre><code class="hljs java"> <span class="hljs-comment">// ä¸ºæ‰€æœ‰é“¾æ¥å¢åŠ  rel=nofollow å±æ€§</span>
doc.select(<span class="hljs-string">&quot;div.comments a&quot;</span>).attr(<span class="hljs-string">&quot;rel&quot;</span>, <span class="hljs-string">&quot;nofollow&quot;</span>);
 <span class="hljs-comment">// ä¸ºæ‰€æœ‰é“¾æ¥å¢åŠ  class=mylinkclass å±æ€§</span>
doc.select(<span class="hljs-string">&quot;div.comments a&quot;</span>).addClass(<span class="hljs-string">&quot;mylinkclass&quot;</span>);
<span class="hljs-comment">// åˆ é™¤æ‰€æœ‰å›¾ç‰‡çš„ onclick å±æ€§</span>
doc.select(<span class="hljs-string">&quot;img&quot;</span>).removeAttr(<span class="hljs-string">&quot;onclick&quot;</span>);
<span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰æ–‡æœ¬è¾“å…¥æ¡†ä¸­çš„æ–‡æœ¬</span>
doc.select(<span class="hljs-string">&quot;input[type=text]&quot;</span>).val(<span class="hljs-string">&quot;&quot;</span>);
<span class="hljs-comment">// è·å¾— rel å±æ€§çš„å€¼</span>
doc.select(<span class="hljs-string">&quot;div.comments a&quot;</span>).attr(<span class="hljs-string">&quot;rel&quot;</span>);</code></pre></div><h2 id="å‚è€ƒ"><a href="# å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/java/j-lo-jsouphtml/">ä½¿ç”¨ jsoup å¯¹ HTML æ–‡æ¡£è¿›è¡Œè§£æå’Œæ“ä½œ</a></li><li><a target="_blank" rel="noopener" href="https://jsoup.org/apidocs/">jsoup 1.9.2 API</a></li></ol></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/quick-start/">quick-start</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/java/">java</a></div></div><p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p><div class="post-prevnext row"><article class="post-prev col-6"><a href="/d94122d2.html"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">å°ç™½å­¦ golang</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/9cd13682.html"><span class="hidden-mobile">python æ ‡å‡†åº“ä¹‹ pickle æ¨¡å—</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8zNjg1MS8xMzM4Nw"><script type="text/javascript">function loadLivere(){addScript("https://cdn-city.livere.com/js/embed.dist.js")}waitElementVisible("lv-container",loadLivere)</script><noscript>ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·å…è®¸ JavaScript è¿è¡Œ</noscript></div></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p><div id="tocbot"></div></div></div></div></div></main><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><footer class="mt-5"><div class="text-center py-3"><div><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="footer-content"><div><span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script>var now=new Date;function createtime(){var n=new Date("04/03/2016 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="ğŸš€ &nbsp"+dnum+"&nbspå¤©",document.getElementById("times").innerHTML=hnum+"&nbspå°æ—¶&nbsp"+mnum+"&nbspåˆ†&nbsp"+snum+"&nbspç§’"}setInterval("createtime()",250)</script></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡ </span><span id="busuanzi_container_site_uv" style="display:none">æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº</span></div></div></footer><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script><script src="/js/debouncer.js"></script><script src="/js/main.js"></script><script src="/js/lazyload.js"></script><script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js"></script><script src="/js/clipboard-use.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js"></script><script>$(document).ready(function(){var t=$("#board-ctn").offset().top;tocbot.init({tocSelector:"#tocbot",contentSelector:"#post-body",headingSelector:"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:3,scrollSmooth:!0,headingsOffset:-t}),0<$(".toc-list-item").length&&$("#toc").css("visibility","visible")})</script><script src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js"></script><script>var typed=new Typed("#subtitle",{strings:["  ","java ç¬¬ä¸‰æ–¹åŒ…å­¦ä¹ ä¹‹ jsoup&nbsp;"],cursorChar:"|",typeSpeed:72,loop:!1});typed.stop(),$(document).ready(function(){$(".typed-cursor").addClass("h2"),typed.start()})</script><script src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js"></script><script>anchors.options = {
      placement: "right",
      visible: "hover",
      
      icon: "Â§"
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))</script><script src="/js/local-search.js"></script><script>var path="/local-search.xml",inputArea=document.querySelector("#local-search-input");inputArea.onclick=function(){searchFunc(path,"local-search-input","local-search-result"),this.onclick=null}</script><script src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css"><script>$("#post img:not(.no-zoom img, img[no-zoom]), img[zoom]").each(function(){var t=document.createElement("a");$(t).attr("data-fancybox","images"),$(t).attr("href",$(this).attr("src")),$(this).wrap(t)})</script><script defer>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?14630c2a053c5952e46094f24dabb623";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>